\RequirePackage{boxedminipage}
%\RequirePackage{wrapfig}
%\RequirePackage{picinpar}
\newgeometry{left=1cm,top=1cm,bottom=1cm,right=1cm}
%Useful lengths
\newlength{\cvpicturewidth}\setlength{\cvpicturewidth}{3.2cm}
\setlength{\cvleftwidth}{4cm}
\setlength{\cvrightwidth}{8cm}
\setlength{\sectionrule}{13cm}
\newlength{\cvtitlecolumnwidth}\setlength{\cvtitlecolumnwidth}{5.5cm}
\newlength{\cvmaincolumnwidth}\setlength{\cvmaincolumnwidth}{13cm}
\newlength{\cvtitlewidth}\setlength{\cvtitlewidth}{10cm}
\newlength{\cvnamewidth}\setlength{\cvnamewidth}{8cm}
\newlength{\cvassetspanelwidth}\setlength{\cvassetspanelwidth}{12cm}
\newlength{\cvassetitemsep}\setlength{\cvassetitemsep}{0em}
\newlength{\cvassetspanelleftmargin}\setlength{\cvassetspanelleftmargin}{0cm}
\newlength{\cvcontactpanelwidth}\setlength{\cvcontactpanelwidth}{7cm}

% Set \emph command with "em" color
\DeclareTextFontCommand{\emph}{\color{main}}

\fancypagestyle{cvcompact}{
 \renewcommand{\headrulewidth}{0pt}
 \renewcommand{\footrulewidth}{0pt}
 \fancyhf{}
% \lfoot{\mystyle[footnote]\@cvfirstname~\@cvlastname}
% \cfoot{\mystyle[footnote]\@ifundefined{@cvtitle}{}{\@cvtitle}}
% \rfoot{\mystyle[footnote]\thepage/\pageref{LastPage}}
}
\pagestyle{cvcompact}

\AtBeginDocument{\AtBeginShipoutNext{\AtBeginShipoutDiscard}}

\renewcommand*{\maketitle}{
	\noindent
	\begin{minipage}[t]{\cvtitlecolumnwidth}
	{\mystyle[name]\@cvfirstname~\@cvlastname}\\
	\@ifundefined{@cvpicture}{}{\centering\begin{minipage}[m]{\cvpicturewidth}\fboxsep=1mm\fboxrule=0.05pt\fcolorbox{black}{white}{\includegraphics[keepaspectratio=true,width=\cvpicturewidth]{\@cvpicture}}\end{minipage}\\}
	\@ifundefined{@cvtitle}{}{{\mystyle[title]\@cvtitle}\\[0.5em]}
	\@ifundefined{@cvquote}{}{{\mystyle[quote]\@cvquote}\\[0.5em]}
\begin{tabular}{@{}c@{}l@{}}\\
\renderassetifdefined{0}
\renderassetifdefined{1}
\renderassetifdefined{2}
\renderassetifdefined{3}
\renderassetifdefined{4}
\renderassetifdefined{5}
\renderassetifdefined{6}
\renderassetifdefined{7}
\renderassetifdefined{8}
\renderassetifdefined{9}\\
\rendercontactifdefined{email}
\rendercontactifdefined{homepage}
\rendercontactifdefined{homepagessl}
\rendercontactifdefined{customhomepage}
\rendercontactifdefined{cellphone}
\rendercontactifdefined{phone}
\rendercontactifdefined{fax}
\rendercontactifdefined{custom0}
\rendercontactifdefined{custom1}
\rendercontactifdefined{custom2}
\rendercontactifdefined{custom3}
\rendercontactifdefined{custom4}
\rendercontactifdefined{custom5}
\rendercontactifdefined{custom6}
\rendercontactifdefined{custom7}
\rendercontactifdefined{custom8}
\rendercontactifdefined{custom9}
\rendercontactifdefined{github}
\rendercontactifdefined{linkedin}
\rendercontactifdefined{twitter}
\rendercontactifdefined{googleplus}
\rendercontactifdefined{facebook}
\rendercontactifdefined{vk}
\rendercontactifdefined{pinterest}
%\rendercontactifdefined{skype} %% Not yet supported by fontawesome
\rendercontactifdefined{age}
\rendercontactifdefined{spokenlanguages}
\rendercontactifdefined{address}
\end{tabular}
	\end{minipage}
	\hfill
	\noindent
\begin{minipage}[t]{\cvmaincolumnwidth}
}

\AtEndDocument{ %\end{minipage}}
	\end{minipage}
}

\renewcommand*{\renderasset}[1]{ \mystyle[assetbullet]&\begin{tabular}[t]{>{\mystyle[asset]}l}\cvasset[#1]\end{tabular}\\[0.3em]}

\renewcommand*{\renderassetifdefined}[1]{\ifcvasset[#1]{\renderasset{#1}}{\ignorespaces}}

\renewcommand*{\rendercontact}[1]{
\mystyle[#1bullet]&\begin{tabular}[t]{>{\mystyle[#1]}l}
\cvcontactlink{#1}
\end{tabular}\\[0.3em]
}

\renewcommand*{\rendercontactifdefined}[1]{\ifcvcontact[#1]{\rendercontact{#1}}{\ignorespaces}}

\endinput
