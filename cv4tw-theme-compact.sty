\RequirePackage{boxedminipage}
%\RequirePackage{wrapfig}
%\RequirePackage{picinpar}
\newgeometry{left=0.8cm,top=0.8cm,bottom=0.8cm,right=0.8cm}
%Useful lengths
\newlength{\cvpicturewidth}\setlength{\cvpicturewidth}{3.2cm}
\setlength{\cvleftwidth}{4cm}
\setlength{\cvrightwidth}{8cm}
\setlength{\sectionrule}{13cm}
\newlength{\cvtitlecolumnwidth}\setlength{\cvtitlecolumnwidth}{5.5cm}
\newlength{\cvmaincolumnwidth}\setlength{\cvmaincolumnwidth}{13cm}
\newlength{\cvtitlewidth}\setlength{\cvtitlewidth}{10cm}
\newlength{\cvnamewidth}\setlength{\cvnamewidth}{8cm}
\newlength{\cvassetspanelwidth}\setlength{\cvassetspanelwidth}{12cm}
\newlength{\cvassetitemsep}\setlength{\cvassetitemsep}{0em}
\newlength{\cvassetspanelleftmargin}\setlength{\cvassetspanelleftmargin}{0cm}
\newlength{\cvcontactpanelwidth}\setlength{\cvcontactpanelwidth}{7cm}

% Set \emph command with "em" color
\DeclareTextFontCommand{\emph}{\color{main}}

\fancypagestyle{cvcompact}{
 \renewcommand{\headrulewidth}{0pt}
 \renewcommand{\footrulewidth}{0pt}
 \fancyhf{}
}
\pagestyle{cvcompact}

\AtBeginDocument{\begin{minipage}[t][0pt]{\linewidth}}

\renewcommand*{\maketitle}{

	\noindent
	\begin{minipage}[t]{\cvtitlecolumnwidth}
	{\mystyle[name]\@cvfirstname~\@cvlastname}\\
	\@ifundefined{@cvpicture}{}{\centering\begin{minipage}[m]{\cvpicturewidth}\fboxsep=1mm\fboxrule=0.05pt\fcolorbox{black}{white}{\includegraphics[keepaspectratio=true,width=\cvpicturewidth]{\@cvpicture}}\end{minipage}\\}
	\@ifundefined{@cvtitle}{}{{\mystyle[title]\@cvtitle}\\[0.5em]}
	\@ifundefined{@cvquote}{}{{\mystyle[quote]\@cvquote}\\[0.5em]}
\begin{tabular}{@{}c@{}l@{}}\\
\renderassetifdefined{0}
\renderassetifdefined{1}
\renderassetifdefined{2}
\renderassetifdefined{3}
\renderassetifdefined{4}
\renderassetifdefined{5}
\renderassetifdefined{6}
\renderassetifdefined{7}
\renderassetifdefined{8}
\renderassetifdefined{9}\\
\cvcontactszone[main]
\cvcontactszone[social]
\cvcontactszone[extra]
\end{tabular}
	\end{minipage}
	\hfill
	\noindent
\begin{minipage}[t]{\cvmaincolumnwidth}
}

\AtEndDocument{%
	\end{minipage}
	\end{minipage}
}

\renewcommand*{\renderasset}[1]{ \mystyle[assetbullet]&\begin{tabular}[t]{>{\mystyle[asset]}l}\cvasset[#1]\end{tabular}\\[0.3em]}

\renewcommand*{\renderassetifdefined}[1]{\ifcvasset[#1]{\renderasset{#1}}{\ignorespaces}}

\renewcommand*{\rendercontact}[1]{
\mystyle[#1bullet]&\begin{tabular}[t]{>{\mystyle[#1]}l}
\cvcontactlink{#1}
\end{tabular}\\[0.3em]
}

\renewcommand*{\rendercontactifdefined}[1]{\ifcvcontact[#1]{\rendercontact{#1}}{\ignorespaces}}

\endinput
